package com.openpay.characterr.client;

import java.util.List;
import org.springframework.core.ParameterizedTypeReference;
import org.springframework.http.HttpEntity;
import org.springframework.http.HttpHeaders;
import org.springframework.http.HttpMethod;
import org.springframework.http.HttpStatus;
import org.springframework.http.MediaType;
import org.springframework.http.ResponseEntity;
import org.springframework.stereotype.Service;
import org.springframework.web.client.RestTemplate;

@Service
public class CharacterrClient {
	
	
	private static final RestTemplate restTemplate = new RestTemplate();

	
	public List<Object> finAllCharacterrs() {
		String interactionURL = "";
		ResponseEntity<List<Object>> responseEntity = null;
		try {
			HttpEntity<Object> entity = new HttpEntity<>(getHeaders());
			ParameterizedTypeReference<List<Object>> typeRef = new ParameterizedTypeReference<>() {};
			responseEntity = restTemplate.exchange(
					interactionURL, HttpMethod.POST, entity, typeRef);

			if ( responseEntity.getStatusCode() == HttpStatus.OK && responseEntity.getBody() != null) {
				return responseEntity.getBody();
			}
		} catch (Exception ex) {
		}
		return null;
	}
	
	public Object findCharacterrById(Integer characterr) {
		// TODO Auto-generated method stub
		return null;
	}

	
	private HttpHeaders getHeaders() {
	    HttpHeaders headers = new HttpHeaders();
	    headers.setBasicAuth("";
	    headers.setContentType(MediaType.APPLICATION_JSON);
	    return headers;
	  }
	
}
